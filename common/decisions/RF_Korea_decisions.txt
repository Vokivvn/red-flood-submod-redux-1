JKR_the_prelude_decisions = {
	JKR_japan_white = {
		cost = 50
		complete_effect  = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = JAP
			}
		}
		visible = {
			has_completed_focus = JKR_the_prelude
			JAP = {
				AND = {
					exists = yes
					is_puppet = no
				}
			}
		}
		fire_only_once = yes

		ai_will_do = {
			factor = 1
		}
	}
	JKR_japan_red = {
		cost = 50
		complete_effect  = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = JPR
			}
		}
		visible = {
			has_completed_focus = JKR_the_prelude
			JPR = {
				AND = {
					exists = yes
					is_puppet = no
					NOT = {
						OR = {
							has_government = vanguard_socialism
							has_government = popular_socialism
							has_government = revisionist_socialism
							has_government = anarchism
							
						}
					}
				}
			}
		}
		fire_only_once = yes

		ai_will_do = {
			factor = 1
		}
	}
	JKR_HAR = {
		cost = 50
		complete_effect  = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = HAR
			}
		}
		visible = {
			has_completed_focus = JKR_the_prelude
			HAR = {
				AND = {
					exists = yes
					has_war = no
					is_puppet = no
					any_neighbor_country = {
						OR = {
							tag = JKR
							is_in_faction_with = JKR
						}
					}
				}
			}
		}
		fire_only_once = yes

		ai_will_do = {
			factor = 1
		}
	}
	JKR_PRI = {
		cost = 50
		complete_effect  = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = PRI
			}
		}
		visible = {
			has_completed_focus = JKR_the_prelude
			PRI = {
				AND = {
					exists = yes
					has_war = no
					is_puppet = no
					any_neighbor_country = {
						OR = {
							tag = JKR
							is_in_faction_with = JKR
						}
					}
				}
			}
		}
		fire_only_once = yes

		ai_will_do = {
			factor = 1
		}
	}
	JKR_GUK = {
		cost = 50
		complete_effect  = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = GUK
			}
		}
		visible = {
			has_completed_focus = JKR_the_prelude
			GUK = {
				AND = {
					exists = yes
					has_war = no
					is_puppet = no
					any_neighbor_country = {
						OR = {
							tag = JKR
							is_in_faction_with = JKR
						}
					}
				}
			}
		}
		fire_only_once = yes

		ai_will_do = {
			factor = 1
		}
	}
	JKR_MNS = {
		cost = 50
		complete_effect  = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = MNS
			}
		}
		visible = {
			has_completed_focus = JKR_the_prelude
			MNS = {
				AND = {
					exists = yes
					has_war = no
					is_puppet = no
					any_neighbor_country = {
						OR = {
							tag = JKR
							is_in_faction_with = JKR
						}
					}
				}
			}
		}
		fire_only_once = yes

		ai_will_do = {
			factor = 1
		}
	}
}
KOR_fending_off_japan_white = {
	KOR_japan_white_white_peace = {
		cost = 30
		days_remove = 30
		visible = {
			ROOT = {
				has_defensive_war_with = JAP
			}
		}
		available = {
			controls_state = 829
			controls_state = 828
			controls_state = 830
			controls_state = 986
			controls_state = 984
			controls_state = 527
			controls_state = 985
			controls_state = 987
			controls_state = 988
			controls_state = 989
			controls_state = 525
			JAP = {
				casualties > 300000
			}
		}
		remove_effect  = {
			JAP = {
				white_peace = {
					tag = ROOT
				}
				set_truce = {
					target = ROOT
					days = 365
				}
			}
			every_country = {
				limit = {
					is_in_faction_with = JAP
				}
				white_peace = {
					tag = ROOT
				}
				set_truce = {
					target = ROOT
					days = 365
				}
			}
		}
		fire_only_once = yes

		ai_will_do = {
			factor = 1
		}
	}
}
KOR_fending_off_japan_red = {
	KOR_japan_red_white_peace = {
		cost = 30
		days_remove = 30
		visible = {
			ROOT = {
				has_defensive_war_with = JPR
			}
		}
		available = {
			controls_state = 829
			controls_state = 828
			controls_state = 830
			controls_state = 986
			controls_state = 984
			controls_state = 527
			controls_state = 985
			controls_state = 987
			controls_state = 988
			controls_state = 989
			controls_state = 525
			JPR = {
				casualties > 300000
			}
		}
		remove_effect  = {
			JPR = {
				white_peace = {
					tag = ROOT
				}
				set_truce = {
					target = ROOT
					days = 365
				}
			}
			every_country = {
				limit = {
					is_in_faction_with = JPR
				}
				white_peace = {
					tag = ROOT
				}
				set_truce = {
					target = ROOT
					days = 365
				}
			}
		}
		fire_only_once = yes

		ai_will_do = {
			factor = 1
		}
	}
}

IKR_rejoin_japan = {

	IKR_we_back = {
		ai_will_do = {
			factor = 10000
		}
		allowed = {
			tag = IKR
		}
		fire_only_once = yes
		visible = { 
			OR = {
				has_completed_focus = IKR_selfgoverning_dominion
				has_completed_focus = IKR_imperial_remnant
			}
			country_exists = JAP
		}
		complete_effect = {
			set_cosmetic_tag = IKR_governorate
			JAP = {
				puppet = IKR
			    }
			}
		}
	}

KOR_independence_war = {

	KOR_expand_communist_influence_to_hamgyong = {
		cost = 25
		days_remove = 14
		fire_only_once = no
		available = {
			984 = {
				check_variable = { var = KOR_loyalist_control value > -1 }
			}
		}
		visible = { 
			has_country_flag = kor_red_flag
			NOT = { has_global_flag = korea_freed }
		}
		cancel_if_not_visible = yes
		on_map_mode = map_and_decisions_view
		highlight_states = {
			highlight_state_targets = { state = 984 } 
		}
		complete_effect = {
			country_event = {
				id = kor.600
			}
		}

		remove_effect = {
			hidden_effect = {
				984 = {
					subtract_from_variable = { var = KOR_loyalist_control value = 1 } 
					add_to_variable = { var = KOR_communist_control value = 1 } 
				}
			}
		}
	}
	KOR_expand_communist_influence_to_pyeongan = {
		cost = 25
		days_remove = 14
		fire_only_once = no
		available = {
				527 = {
					check_variable = { var = KOR_loyalist_control value > -1 }
				}
			}
		visible = { 
			has_country_flag = kor_red_flag
			NOT = { has_global_flag = korea_freed }
		}
		cancel_if_not_visible = yes
		on_map_mode = map_and_decisions_view
		highlight_states = {
			highlight_state_targets = { state = 527 } 
		   }
		   complete_effect = {
			country_event = {
				id = kor.600
				}
			}

			remove_effect = {
				hidden_effect = {
					527 = {
						subtract_from_variable = { var = KOR_loyalist_control value = 1 } 
						add_to_variable = { var = KOR_communist_control value = 1 } 
					}
				}
			}
		}
		
	KOR_expand_communist_influence_to_pyongyang = {
		cost = 75
		days_remove = 21
		fire_only_once = no
		available = {
				830 = {
					check_variable = { var = KOR_loyalist_control value > -1 }
				}
				NOT = {
					has_country_flag = KOR_expanding_influence
				}
			}
		visible = { 
			has_country_flag = kor_red_flag
			NOT = { has_global_flag = korea_freed }
		}
		cancel_if_not_visible = yes
		on_map_mode = map_and_decisions_view
		highlight_states = {
			highlight_state_targets = { state = 830 } 
		   }
		   complete_effect = {
			country_event = {
				id = kor.600
				}
			}

			remove_effect = {
				hidden_effect = {
					830 = {
						subtract_from_variable = { var = KOR_loyalist_control value = 1 } 
						add_to_variable = { var = KOR_communist_control value = 1 } 
					}
				}
			}
		}	
	}
